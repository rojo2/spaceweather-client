import React from 'react'
import { Link } from 'react-router'
import classNames from 'classnames'

import Background from '@/views/Background'
import Sound from '@/sound/Sound'

export class Layout extends React.Component {
  constructor(props) {
    super(props)
    this.displayName = 'Layout'
    this.handleAudioClick = this.handleAudioClick.bind(this)
    Sound.start()
  }

  handleAudioClick(e) {
    e.preventDefault()
    Sound.toggle()
    this.forceUpdate()
  }

  render() {
    const audioClasses = classNames('Button--sound', { isOn: Sound.isOn })
    const audioState = Sound.isOn ? 'On' : 'Off'
    return (
      <div className="Icarus">
        <Background />
        <div className="Page">
          <div className="Page__top">
            <div className="Logo">
              <svg width="102px" height="24px" viewBox="0 0 1136 269">
                <path
                  className="Logo__text"
                  d="M549.163,52.282l0,33.032c-16.117,-13.484 -32.792,-20.226 -50.026,-20.226c-18.989,0 -34.986,6.821 -47.992,20.465c-13.084,13.564 -19.627,30.159 -19.627,49.787c0,19.388 6.543,35.744 19.627,49.068c13.085,13.325 29.123,19.987 48.112,19.987c9.813,0 18.151,-1.596 25.013,-4.788c3.829,-1.595 7.799,-3.749 11.908,-6.462c4.109,-2.713 8.437,-5.984 12.985,-9.814l0,33.63c-15.957,9.016 -32.712,13.524 -50.265,13.524c-26.41,0 -48.949,-9.216 -67.619,-27.646c-18.591,-18.59 -27.886,-41.01 -27.886,-67.26c0,-23.537 7.78,-44.521 23.338,-62.951c19.149,-22.58 43.922,-33.87 74.321,-33.87c16.595,0 32.632,4.508 48.111,13.524Z"
                />
                <path
                  className="Logo__text"
                  d="M582.669,227.134l-30.04,0l90.991,-196.491l88.648,196.491l-30.518,0l-58.164,-133.922l-60.917,133.922Z"
                />
                <path
                  className="Logo__text"
                  d="M799.789,148.385l57.207,78.749l-34.109,0l-52.779,-75.638l-5.026,0l0,75.638l-27.886,0l0,-184.785l32.673,0c24.415,0 42.047,4.587 52.898,13.763c11.968,10.212 17.952,23.696 17.952,40.451c0,13.085 -3.75,24.335 -11.25,33.75c-7.5,9.415 -17.393,15.439 -29.68,18.072ZM765.082,127.201l8.856,0c26.409,0 39.614,-10.093 39.614,-30.279c0,-18.909 -12.846,-28.364 -38.537,-28.364l-9.933,0l0,58.643Z"
                />
                <path
                  className="Logo__text"
                  d="M890.038,42.349l0,111.302c0,15.877 2.593,27.486 7.779,34.826c7.74,10.612 18.631,15.918 32.673,15.918c14.122,0 25.053,-5.306 32.792,-15.918c5.186,-7.101 7.779,-18.71 7.779,-34.826l0,-111.302l27.886,0l0,118.961c0,19.468 -6.064,35.505 -18.192,48.111c-13.643,14.043 -30.398,21.064 -50.265,21.064c-19.867,0 -36.582,-7.021 -50.146,-21.064c-12.127,-12.606 -18.191,-28.643 -18.191,-48.111l0,-118.961l27.885,0Z"
                />
                <path
                  className="Logo__text"
                  d="M1128.1,69.875l-22.619,13.404c-4.229,-7.34 -8.258,-12.128 -12.088,-14.362c-3.989,-2.553 -9.136,-3.829 -15.439,-3.829c-7.739,0 -14.162,2.194 -19.268,6.582c-5.106,4.309 -7.66,9.734 -7.66,16.276c0,9.016 6.702,16.277 20.107,21.782l18.43,7.54c15,6.064 25.971,13.464 32.912,22.201c6.942,8.736 10.412,19.447 10.412,32.133c0,16.995 -5.665,31.037 -16.994,42.128c-11.41,11.17 -25.572,16.755 -42.486,16.755c-16.038,0 -29.282,-4.747 -39.734,-14.242c-10.293,-9.495 -16.715,-22.859 -19.268,-40.093l28.244,-6.223c1.276,10.851 3.51,18.351 6.702,22.5c5.745,7.978 14.122,11.968 25.133,11.968c8.696,0 15.917,-2.913 21.662,-8.737c5.744,-5.824 8.617,-13.205 8.617,-22.141c0,-3.59 -0.499,-6.881 -1.496,-9.873c-0.998,-2.992 -2.554,-5.745 -4.668,-8.258c-2.114,-2.513 -4.847,-4.867 -8.198,-7.061c-3.351,-2.194 -7.34,-4.289 -11.968,-6.283l-17.832,-7.42c-25.292,-10.692 -37.939,-26.33 -37.939,-46.915c0,-13.883 5.306,-25.492 15.918,-34.827c10.611,-9.414 23.816,-14.122 39.614,-14.122c21.303,0 37.938,10.372 49.906,31.117Z"
                />
                <path
                  className="Logo__text"
                  d="M386.378,42.349l0,184.785l-27.886,0l0,-184.823l27.886,0.038Z"
                />
                <path
                  className="Logo__icon"
                  d="M61.231,51.209c1.787,-2.101 3.636,-4.148 5.552,-6.133c4.53,-4.69 9.413,-9.039 14.596,-12.996c6.716,-5.129 13.935,-9.598 21.524,-13.317c7.029,-3.445 14.373,-6.245 21.913,-8.352c7.27,-2.031 14.719,-3.416 22.232,-4.14c2.605,-0.251 5.217,-0.423 7.832,-0.517c1.398,-0.049 2.795,-0.074 4.193,-0.082c0.295,0 0.589,0 0.884,0c2.344,0.011 4.688,0.078 7.029,0.212c4.477,0.255 8.941,0.743 13.368,1.463c10.986,1.787 21.731,5.011 31.886,9.568c6.758,3.032 13.252,6.651 19.389,10.799c5.88,3.974 11.432,8.433 16.584,13.315c5.334,5.056 10.238,10.565 14.64,16.45c4.425,5.916 8.343,12.21 11.692,18.795c2.851,5.604 5.29,11.418 7.289,17.381c1.902,5.675 3.406,11.484 4.497,17.37c2.538,13.698 2.841,27.812 0.908,41.608c-0.891,6.356 -2.258,12.646 -4.09,18.798c-1.949,6.546 -4.423,12.934 -7.389,19.086c-3.268,6.778 -7.133,13.267 -11.531,19.373c-4.598,6.383 -9.779,12.345 -15.457,17.79c-5.682,5.45 -11.86,10.381 -18.435,14.711c-6.847,4.508 -14.124,8.363 -21.703,11.489c-8.084,3.335 -16.508,5.837 -25.101,7.458c-8.076,1.523 -16.296,2.265 -24.514,2.232c-9.699,-0.038 -19.393,-1.16 -28.839,-3.364c-9.483,-2.212 -18.709,-5.511 -27.447,-9.809c-6.126,-3.014 -12.01,-6.516 -17.583,-10.46c-6.331,-4.482 -12.258,-9.533 -17.688,-15.072c-3.618,-3.692 -7.016,-7.6 -10.169,-11.697c-1.58,-2.053 -3.093,-4.155 -4.551,-6.297l-0.259,-0.384l0.432,-0.292c-2.554,-1.313 -5.042,-2.756 -7.451,-4.321c-4.564,-2.967 -8.842,-6.371 -12.759,-10.151c-3.547,-3.422 -6.797,-7.15 -9.701,-11.132c-3.024,-4.144 -5.672,-8.561 -7.9,-13.182c-3.795,-7.871 -6.356,-16.325 -7.569,-24.978c-1.249,-8.915 -1.081,-18.031 0.504,-26.894c1.411,-7.889 3.95,-15.569 7.518,-22.745c4.403,-8.853 10.36,-16.918 17.515,-23.741c6.92,-6.597 14.947,-12.02 23.657,-15.961c1.483,-0.671 2.984,-1.298 4.502,-1.881ZM92.75,215.55c5.289,4.371 11.003,8.226 17.04,11.487c6.581,3.554 13.544,6.4 20.733,8.467c4.582,1.317 9.256,2.319 13.975,2.997c4.84,0.695 9.727,1.05 14.616,1.07c6.695,0.026 13.392,-0.577 19.971,-1.818c6.564,-1.237 13.007,-3.108 19.213,-5.579c6.004,-2.391 11.785,-5.342 17.246,-8.799c5.511,-3.488 10.696,-7.489 15.47,-11.933c4.615,-4.296 8.844,-9.005 12.621,-14.054c3.412,-4.561 6.454,-9.399 9.083,-14.453c2.703,-5.197 4.969,-10.621 6.762,-16.198c1.525,-4.743 2.708,-9.595 3.539,-14.507c0.813,-4.812 1.289,-9.68 1.428,-14.559c0.16,-5.593 -0.119,-11.2 -0.843,-16.749c-0.718,-5.501 -1.874,-10.944 -3.457,-16.261c-1.765,-5.929 -4.062,-11.7 -6.85,-17.223c-2.853,-5.651 -6.22,-11.041 -10.042,-16.087c-4.694,-6.199 -10.075,-11.876 -16.013,-16.897c-5.712,-4.831 -11.939,-9.053 -18.544,-12.566c-6.212,-3.304 -12.757,-5.978 -19.507,-7.965c-6.598,-1.942 -13.388,-3.226 -20.239,-3.835c-8.492,-0.755 -17.078,-0.487 -25.504,0.811c-6.372,0.981 -12.652,2.554 -18.734,4.696c-5.633,1.984 -11.094,4.454 -16.306,7.371c-1.883,1.054 -3.733,2.166 -5.547,3.334c0.589,0.077 1.179,0.161 1.767,0.251c7.603,1.163 15.041,3.368 22.049,6.539c8.711,3.941 16.738,9.364 23.657,15.961c7.031,6.704 12.906,14.608 17.285,23.281c3.609,7.149 6.194,14.808 7.654,22.683c1.672,9.026 1.872,18.325 0.598,27.416c-1.212,8.653 -3.773,17.107 -7.568,24.978c-2.228,4.621 -4.877,9.038 -7.9,13.183c-2.905,3.981 -6.154,7.709 -9.701,11.131c-3.917,3.78 -8.195,7.185 -12.76,10.151c-4.315,2.805 -8.886,5.217 -13.638,7.194c-5.322,2.214 -10.869,3.881 -16.529,4.967c-4.951,0.949 -9.985,1.454 -15.025,1.515ZM56.618,180.444c3.649,2.573 7.578,4.749 11.704,6.465c3.809,1.585 7.78,2.778 11.832,3.555c3.804,0.73 7.676,1.092 11.549,1.092c3.873,0 7.746,-0.362 11.55,-1.092c4.052,-0.777 8.022,-1.97 11.832,-3.555c7.024,-2.922 13.478,-7.175 18.952,-12.456c5.29,-5.105 9.654,-11.159 12.807,-17.801c2.63,-5.541 4.408,-11.477 5.259,-17.551c0.951,-6.787 0.761,-13.737 -0.572,-20.46c-1.114,-5.617 -3.031,-11.07 -5.674,-16.15c-3.108,-5.975 -7.211,-11.423 -12.084,-16.07c-4.969,-4.737 -10.733,-8.634 -16.988,-11.465c-5.018,-2.269 -10.343,-3.849 -15.786,-4.681c-2.038,-0.312 -4.092,-0.52 -6.15,-0.624c-0.916,-0.047 -1.833,-0.07 -2.75,-0.079c-0.264,0 -0.528,0 -0.791,0c-0.917,0.009 -1.834,0.032 -2.75,0.079c-2.059,0.104 -4.112,0.312 -6.15,0.624c-5.443,0.832 -10.769,2.412 -15.786,4.681c-3.508,1.588 -6.862,3.51 -10.007,5.729l0.297,0c0.745,0.007 1.49,0.026 2.235,0.064c1.682,0.085 3.359,0.255 5.023,0.51c4.465,0.682 8.834,1.978 12.95,3.84c5.202,2.353 9.988,5.607 14.096,9.571c4.03,3.889 7.401,8.453 9.924,13.452c2.167,4.291 3.705,8.895 4.551,13.628c0.93,5.198 1.028,10.544 0.296,15.773c-0.712,5.082 -2.217,10.047 -4.445,14.669c-2.564,5.317 -6.078,10.167 -10.326,14.265c-4.473,4.317 -9.75,7.788 -15.49,10.177c-3.029,1.26 -6.184,2.219 -9.402,2.857c-3.195,0.633 -6.45,0.951 -9.706,0.953ZM56.422,104.684c-1.321,0.013 -2.638,0.116 -3.942,0.324c-2.25,0.358 -4.45,1.019 -6.526,1.958c-2.561,1.158 -4.928,2.739 -6.985,4.654c-2.017,1.878 -3.735,4.074 -5.065,6.488c-1.169,2.119 -2.036,4.402 -2.566,6.763c-0.673,2.997 -0.805,6.117 -0.398,9.161c0.345,2.577 1.083,5.098 2.183,7.453c1.322,2.829 3.161,5.411 5.395,7.592c2.31,2.256 5.038,4.078 8.012,5.337c3.123,1.322 6.5,2.008 9.891,2.029c1.594,0.01 3.189,-0.123 4.759,-0.404c1.774,-0.317 3.514,-0.822 5.182,-1.504c2.941,-1.203 5.651,-2.955 7.964,-5.134c2.272,-2.14 4.156,-4.688 5.529,-7.492c1.141,-2.329 1.924,-4.83 2.317,-7.394c0.456,-2.985 0.392,-6.053 -0.196,-9.015c-0.482,-2.431 -1.319,-4.788 -2.476,-6.98c-1.287,-2.437 -2.965,-4.665 -4.948,-6.578c-2.022,-1.951 -4.359,-3.574 -6.898,-4.779c-2.103,-0.998 -4.34,-1.707 -6.634,-2.102c-1.297,-0.224 -2.609,-0.343 -3.925,-0.372c-0.224,-0.004 -0.449,-0.005 -0.673,-0.005Z"
                />
              </svg>
            </div>
            <div className="Nav">
              <Link
                to="/weather"
                activeClassName="isActive"
                className="Nav__item"
              >
                <div className="Nav__itemLabel">Weather</div>
              </Link>
              <Link
                to="/sunspots"
                activeClassName="isActive"
                className="Nav__item"
              >
                <div className="Nav__itemLabel">Sunspots</div>
              </Link>
              <Link
                to="/solar-cycle"
                activeClassName="isActive"
                className="Nav__item"
              >
                <div className="Nav__itemLabel">Solar cycle</div>
              </Link>
              <Link
                to="/forecast"
                activeClassName="isActive"
                className="Nav__item"
              >
                <div className="Nav__itemLabel">Forecast</div>
                <div className="Nav__itemAlert"></div>
              </Link>
            </div>
          </div>
          <div className="Page__content">{this.props.children}</div>
          <div className="Page__bottom">
            <div className="AboutIcarus">
              <input
                type="checkbox"
                id="about-trigger"
                className="AboutIcarus__input"
              />
              <label htmlFor="about-trigger" className="AboutIcarus__button">
                <div className="AboutIcarus__buttonText">
                  About Icarus Project
                </div>
                <div className="AboutIcarus__buttonClose">
                  <svg
                    width="32"
                    height="32"
                    viewBox="0 0 30 30"
                    className="AboutIcarus__closeIcon"
                  >
                    <line x1="2" y1="2" x2="30" y2="30"></line>
                    <line x1="2" y1="30" x2="30" y2="2"></line>
                  </svg>
                </div>
              </label>
              <div className="AboutIcarus__content">
                <div className="AboutIcarus__infoPanel">
                  <h3>About Icarus Project</h3>
                  <p>
                    The Icarus Project is a fun endeavour looking to make near
                    live space weather information available to the general
                    public as well as the scientific community. It consists of
                    an ever growing API and a gorgeous web client.
                  </p>
                  <p>
                    <a href="https://twitter.com/azazeln28" target="_blank">
                      Aitor Moreno-Melcón
                    </a>
                    ,{' '}
                    <a href="https://twitter.com/mekanoide" target="_blank">
                      Omar Moreno-Melcón
                    </a>{' '}
                    and{' '}
                    <a href="https://twitter.com/diacritica" target="_blank">
                      Pablo Ruiz-Múzquiz
                    </a>{' '}
                    are its creators, with{' '}
                    <a href="https://twitter.com/ghilbrae" target="_blank">
                      Angela Rivera-Campos
                    </a>{' '}
                    acting as our scientific advisor.
                  </p>
                  <p>
                    If you would like to know more about Icarus Project or its
                    public API, please contact us at{' '}
                    <a href="mailto:info@icarus.live" target="_blank">
                      info@icarus.live
                    </a>{' '}
                    or follow us for Icarus alerts on{' '}
                    <a href="https://twitter.com/icarusalerts" target="_blank">
                      Twitter
                    </a>
                  </p>
                  <p>
                    Also, please find all the source code available at github:{' '}
                    <a href="https://github.com/diacritica/spaceweather">
                      backend
                    </a>{' '}
                    and{' '}
                    <a href="https://github.com/rojo2/spaceweather-client">
                      frontend
                    </a>
                    .
                  </p>
                  <p>
                    We would like to thank{' '}
                    <a href="http://kaleidos.net" target="_blank">
                      Kaleidos
                    </a>{' '}
                    and their{' '}
                    <a href="http://piweek.com" target="_blank">
                      PIWEEK
                    </a>{' '}
                    that greatly contributed to make this a reality.
                  </p>
                </div>
              </div>
            </div>
            <div className="Controls">
              <a
                href=""
                className={audioClasses}
                onClick={this.handleAudioClick}
              >
                <div className="Button__label">Audio {audioState}</div>
                <svg
                  viewBox="0 0 22 16"
                  x="0"
                  y="0"
                  width="22"
                  height="16"
                  className="Icon--sound"
                >
                  <rect
                    x="0"
                    y="0"
                    width="1"
                    height="16"
                    className="Sound Sound--1"
                  ></rect>
                  <rect
                    x="3"
                    y="0"
                    width="1"
                    height="16"
                    className="Sound Sound--2"
                  ></rect>
                  <rect
                    x="6"
                    y="0"
                    width="1"
                    height="16"
                    className="Sound Sound--3"
                  ></rect>
                  <rect
                    x="9"
                    y="0"
                    width="1"
                    height="16"
                    className="Sound Sound--1"
                  ></rect>
                  <rect
                    x="12"
                    y="0"
                    width="1"
                    height="16"
                    className="Sound Sound--4"
                  ></rect>
                  <rect
                    x="15"
                    y="0"
                    width="1"
                    height="16"
                    className="Sound Sound--2"
                  ></rect>
                  <rect
                    x="18"
                    y="0"
                    width="1"
                    height="16"
                    className="Sound Sound--1"
                  ></rect>
                  <rect
                    x="21"
                    y="0"
                    width="1"
                    height="16"
                    className="Sound Sound--3"
                  ></rect>
                </svg>
              </a>
            </div>
          </div>
        </div>
        <div id="main" className="Loader">
          <svg
            viewBox="0 0 55 64"
            width="55"
            height="64"
            className="Loader__spinner"
          >
            <rect x="0" y="0" width="1" height="64" className="Loader01"></rect>
            <rect x="6" y="0" width="1" height="64" className="Loader02"></rect>
            <rect
              x="12"
              y="0"
              width="1"
              height="64"
              className="Loader03"
            ></rect>
            <rect
              x="18"
              y="0"
              width="1"
              height="64"
              className="Loader04"
            ></rect>
            <rect
              x="24"
              y="0"
              width="1"
              height="64"
              className="Loader05"
            ></rect>
            <rect
              x="30"
              y="0"
              width="1"
              height="64"
              className="Loader06"
            ></rect>
            <rect
              x="36"
              y="0"
              width="1"
              height="64"
              className="Loader07"
            ></rect>
            <rect
              x="42"
              y="0"
              width="1"
              height="64"
              className="Loader08"
            ></rect>
            <rect
              x="48"
              y="0"
              width="1"
              height="64"
              className="Loader09"
            ></rect>
            <rect
              x="54"
              y="0"
              width="1"
              height="64"
              className="Loader10"
            ></rect>
          </svg>
        </div>
      </div>
    )
  }
}

export default Layout
